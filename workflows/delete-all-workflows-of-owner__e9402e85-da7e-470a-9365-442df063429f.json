{"id":"e9402e85-da7e-470a-9365-442df063429f","title":"delete-all-workflows-of-owner","isDeployed":false,"taskDefaults":{},"lastExecution":null,"description":"","actor":"bc935a57-c7d3-440e-922c-79a22bf7afd6","owner":"bc935a57-c7d3-440e-922c-79a22bf7afd6","ownerType":"USER","isPrivate":true,"triggerType":"Manual","schemaVersion":3,"trigger":{},"modificationInfo":{"createdBy":"bc935a57-c7d3-440e-922c-79a22bf7afd6","createdTime":"2026-01-15T04:09:41.795Z","lastModifiedBy":"bc935a57-c7d3-440e-922c-79a22bf7afd6","lastModifiedTime":"2026-01-15T04:09:41.795Z"},"result":null,"type":"STANDARD","input":{},"hourlyExecutionLimit":1000,"throttle":{"isLimitHit":false,"limitEvents":[]},"workflowLimit":{"isActive":false},"version":0,"unacknowledgedSkippedScheduleAt":null,"tasks":{"delete-workflows":{"name":"delete-workflows","input":{"script":"// optional import of sdk modules\nimport { execution } from '@dynatrace-sdk/automation-utils';\nimport { workflowsClient } from \"@dynatrace-sdk/client-automation\";\n\nexport default async function ({ execution_id }) {\n  // your code goes here\n  // e.g. get the current execution\n  const ex = await execution(execution_id);\n  console.log(ex.workflow)\n\n\n  const getowner = await workflowsClient.getWorkflows({\n    adminAccess: true,\n    id: ex.workflow,\n  });\n  \n\n  const data = await workflowsClient.getWorkflows({\n    limit: 1000,\n    owner: getowner.results[0].owner,\n  });\n\n\n  let i = 0;\n  \n  while (i < data.results.length) {\n      console.log(data.results[i].id);\n      const datax = await workflowsClient.deleteWorkflow({\n      adminAccess: true,\n      id: \"\"+ data.results[i].id +\"\",\n      });\n      console.log(data.results[i].title ) \n      i++;\n  }\n\n\n  \n  return data.results.length;\n}"},"action":"dynatrace.automations:run-javascript","position":{"x":0,"y":1},"description":"Run custom JavaScript code.","predecessors":[]}}}