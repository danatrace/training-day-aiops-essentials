{"id":"5231f6ad-4393-4f02-9853-f4714b08f658","title":"AWS Create Public Security group Chaos Test","isDeployed":true,"taskDefaults":{},"lastExecution":null,"description":"","actor":"bc935a57-c7d3-440e-922c-79a22bf7afd6","owner":"bc935a57-c7d3-440e-922c-79a22bf7afd6","ownerType":"USER","isPrivate":true,"triggerType":"Schedule","schemaVersion":3,"trigger":{"schedule":{"isActive":false,"isFaulty":false,"trigger":{"type":"interval","intervalMinutes":120},"rule":null,"filterParameters":{"earliestStart":"2025-09-22","earliestStartTime":"15:44"},"timezone":"America/Los_Angeles","inputs":{},"nextExecution":null}},"modificationInfo":{"createdBy":"bc935a57-c7d3-440e-922c-79a22bf7afd6","createdTime":"2026-01-15T04:09:25.268Z","lastModifiedBy":"bc935a57-c7d3-440e-922c-79a22bf7afd6","lastModifiedTime":"2026-01-15T04:09:25.269Z"},"result":null,"type":"STANDARD","input":{"users":"","awsregion":"us-east-1","dynatraceawsconnection":"554872066791"},"hourlyExecutionLimit":1000,"throttle":{"isLimitHit":false,"limitEvents":[]},"workflowLimit":{"isActive":false},"version":1,"unacknowledgedSkippedScheduleAt":null,"tasks":{"create-cf-yaml":{"name":"create-cf-yaml","input":{"Key":"create_groups.yaml","Body":"# Copyright 2022 Amazon.com and its affiliates; all rights reserved. \n# This file is Amazon Web Services Content and may not be duplicated or distributed without permission.\nAWSTemplateFormatVersion: '2010-09-09'\nDescription: Dynatrace Serverless Failover Demo\n\nResources:\n  InstanceSecurityGroup:\n    Type: AWS::EC2::SecurityGroup\n    Properties:\n      GroupName: !Ref AWS::StackName\n      GroupDescription: !Ref AWS::StackName\n      SecurityGroupIngress:\n        - IpProtocol: tcp\n          CidrIp: 0.0.0.0/0\n          FromPort: 22\n          ToPort: 22\n","Bucket":"dynatraceinstall{{execution().id | replace(\"-\",\"\")}}","region":"{{ input()[\"awsregion\"]}}","schema":"builtin:hyperscaler-authentication.connections.aws","connection":"{% set awsconnection = input().dynatraceawsconnection %}\n{{ connection('builtin:hyperscaler-authentication.connections.aws', awsconnection) }}","ContentType":"Content-Type: text/html; charset=ISO-8859-4"},"action":"dynatrace.aws.connector:s3-put-object","position":{"x":0,"y":2},"conditions":{"states":{"s3_create_bucket":"OK"}},"description":"Adds an object to a bucket.","predecessors":["s3_create_bucket"]},"s3-delete-yaml":{"name":"s3-delete-yaml","input":{"Key":"create_groups.yaml","Bucket":"dynatraceinstall{{execution().id | replace(\"-\",\"\")}}","region":"{{ input()[\"awsregion\"]}}","schema":"builtin:hyperscaler-authentication.connections.aws","connection":"{% set awsconnection = input().dynatraceawsconnection %}\n{{ connection('builtin:hyperscaler-authentication.connections.aws', awsconnection) }}"},"action":"dynatrace.aws.connector:s3-delete-object","position":{"x":0,"y":5},"conditions":{"states":{"delete-security-groups":"OK"}},"description":"Removes an object from a bucket.","predecessors":["delete-security-groups"]},"s3_create_bucket":{"name":"s3_create_bucket","input":{"Bucket":"dynatraceinstall{{execution().id | replace(\"-\",\"\")}}","region":"{{ input()[\"awsregion\"]}}","schema":"builtin:hyperscaler-authentication.connections.aws","connection":"{% set awsconnection = input().dynatraceawsconnection %}\n{{ connection('builtin:hyperscaler-authentication.connections.aws', awsconnection) }}"},"action":"dynatrace.aws.connector:s3-create-bucket","position":{"x":0,"y":1},"description":"This action creates an Amazon S3 bucket.","predecessors":[]},"s3_delete_bucket_1":{"name":"s3_delete_bucket_1","input":{"Bucket":"dynatraceinstall{{execution().id | replace(\"-\",\"\")}}","region":"{{ input()[\"awsregion\"]}}","schema":"builtin:hyperscaler-authentication.connections.aws","connection":"{% set awsconnection = input().dynatraceawsconnection %}\n{{ connection('builtin:hyperscaler-authentication.connections.aws', awsconnection) }}"},"action":"dynatrace.aws.connector:s3-delete-bucket","position":{"x":0,"y":6},"conditions":{"states":{"s3-delete-yaml":"OK"}},"description":"Deletes the S3 bucket.","predecessors":["s3-delete-yaml"]},"delete-security-groups":{"name":"delete-security-groups","input":{"workflowId":"d383240e-af68-4833-bd4b-d02615b1030d","workflowInput":"{\n  \"awsregion\": \"{{ input()[\"awsregion\"]}}\",\n  \"cf_stackname\": \"performpublicsecuritygroup-{{input()[\"users\"] }}-{{execution().id}}\",\n  \"dynatraceawsconnection\": \"{{ input()[\"dynatraceawsconnection\"]}}\"\n}"},"action":"dynatrace.automations:run-workflow","active":false,"position":{"x":0,"y":4},"conditions":{"states":{"create-public-security-groups":"OK"}},"description":"Modularize your workflows, run any existing workflow.","predecessors":["create-public-security-groups"]},"create-public-security-groups":{"name":"create-public-security-groups","input":{"workflowId":"e85d9c9e-30a9-44db-a429-0b781bad389a","workflowInput":"{\n  \"awsregion\": \"{{ input()[\"awsregion\"]}}\",\n  \"cfyamls3url\": \"https://dynatraceinstall{{execution().id | replace(\"-\",\"\")}}.s3.{{ input()[\"awsregion\"]}}.amazonaws.com/create_groups.yaml\",\n  \"cf_stackname\": \"performpublicsecuritygroup-{{input()[\"users\"] }}-{{execution().id}}\",\n  \"dynatraceawsconnection\": \"{{ input()[\"dynatraceawsconnection\"]}}\"\n}"},"action":"dynatrace.automations:run-workflow","position":{"x":0,"y":3},"conditions":{"states":{"create-cf-yaml":"OK"}},"description":"Modularize your workflows, run any existing workflow.","predecessors":["create-cf-yaml"]}}}